{"name":"Luisfigook.GitHub.io","tagline":"luisfigook技术blog","body":"  今天用PHP GD生成图片，取远程微信头像，发现用file_get_contents函数取很慢，后来发现用curl获取很快，所以分享下：   \r\n     \r\n`        $avatar_url = \"http://wx.qlogo.cn/mmopen/Z8QF8O0IACNgJkRJz4wJISKfQgbCVJTDxMLd0ib8ED2a5BgDry3pBufX9UASMKvVY2CffsgmOppvEgpGA2DFG3jyxsicGgecHG/0\";`\r\n        `$this->load->library('Curl');`\r\n        `$avatar = $this->curl->simple_get($avatar_url);`\r\n        `$source = imagecreatefromstring($avatar);`\r\n        `$size =  getimagesizefromstring($avatar);`\r\n        `imagecopyresized($bg, $source, 23, 32, 0, 0, 87, 87, $size[0], $size[1]);`\r\n        `// 输出图像`\r\n        `header(\"Content-type: image/jpeg\");`\r\n        `imagejpeg($bg);`","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}